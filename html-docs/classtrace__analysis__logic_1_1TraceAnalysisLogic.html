<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Qudi: trace_analysis_logic.TraceAnalysisLogic Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Qudi
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>trace_analysis_logic</b></li><li class="navelem"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html">TraceAnalysisLogic</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classtrace__analysis__logic_1_1TraceAnalysisLogic-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">trace_analysis_logic.TraceAnalysisLogic Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Perform a gated counting measurement with the hardware.  
 <a href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for trace_analysis_logic.TraceAnalysisLogic:</div>
<div class="dyncontent">
<div class="center"><img src="classtrace__analysis__logic_1_1TraceAnalysisLogic__inherit__graph.png" border="0" usemap="#trace__analysis__logic_8TraceAnalysisLogic_inherit__map" alt="Inheritance graph"/></div>
<map name="trace__analysis__logic_8TraceAnalysisLogic_inherit__map" id="trace__analysis__logic_8TraceAnalysisLogic_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for trace_analysis_logic.TraceAnalysisLogic:</div>
<div class="dyncontent">
<div class="center"><img src="classtrace__analysis__logic_1_1TraceAnalysisLogic__coll__graph.png" border="0" usemap="#trace__analysis__logic_8TraceAnalysisLogic_coll__map" alt="Collaboration graph"/></div>
<map name="trace__analysis__logic_8TraceAnalysisLogic_coll__map" id="trace__analysis__logic_8TraceAnalysisLogic_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a13e1365a432740b41724c141ba08be86"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a13e1365a432740b41724c141ba08be86">__init__</a></td></tr>
<tr class="memdesc:a13e1365a432740b41724c141ba08be86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create CounterLogic object with connectors.  <a href="#a13e1365a432740b41724c141ba08be86">More...</a><br/></td></tr>
<tr class="separator:a13e1365a432740b41724c141ba08be86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60b1cff0886154a776c1d02dade23ecd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a60b1cff0886154a776c1d02dade23ecd">on_activate</a></td></tr>
<tr class="memdesc:a60b1cff0886154a776c1d02dade23ecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisation performed during activation of the module.  <a href="#a60b1cff0886154a776c1d02dade23ecd">More...</a><br/></td></tr>
<tr class="separator:a60b1cff0886154a776c1d02dade23ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a872a8409b46f4c25028cda26a596941d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a872a8409b46f4c25028cda26a596941d">on_deactivate</a></td></tr>
<tr class="memdesc:a872a8409b46f4c25028cda26a596941d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialisation performed during deactivation of the module.  <a href="#a872a8409b46f4c25028cda26a596941d">More...</a><br/></td></tr>
<tr class="separator:a872a8409b46f4c25028cda26a596941d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70cc8433964024847fb8577836ee4e35"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a70cc8433964024847fb8577836ee4e35">set_num_bins_histogram</a></td></tr>
<tr class="memdesc:a70cc8433964024847fb8577836ee4e35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of bins.  <a href="#a70cc8433964024847fb8577836ee4e35">More...</a><br/></td></tr>
<tr class="separator:a70cc8433964024847fb8577836ee4e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44983de7a9c3270096344d3049f799f7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a44983de7a9c3270096344d3049f799f7">do_calculate_histogram</a></td></tr>
<tr class="memdesc:a44983de7a9c3270096344d3049f799f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passes all the needed parameters to the appropriated methods.  <a href="#a44983de7a9c3270096344d3049f799f7">More...</a><br/></td></tr>
<tr class="separator:a44983de7a9c3270096344d3049f799f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b3d75259e90063061bd64599747adb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a92b3d75259e90063061bd64599747adb">calculate_histogram</a></td></tr>
<tr class="memdesc:a92b3d75259e90063061bd64599747adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the histogram of a given trace.  <a href="#a92b3d75259e90063061bd64599747adb">More...</a><br/></td></tr>
<tr class="separator:a92b3d75259e90063061bd64599747adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6774dd7b6197fe4babe6f90e07af8b76"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a6774dd7b6197fe4babe6f90e07af8b76">analyze_flip_prob</a></td></tr>
<tr class="memdesc:a6774dd7b6197fe4babe6f90e07af8b76"><td class="mdescLeft">&#160;</td><td class="mdescRight">General method, which analysis how often a value was changed from one data point to another in relation to a certain threshold.  <a href="#a6774dd7b6197fe4babe6f90e07af8b76">More...</a><br/></td></tr>
<tr class="separator:a6774dd7b6197fe4babe6f90e07af8b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187e86b6560dbeba723a11f749723d7b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a187e86b6560dbeba723a11f749723d7b">analyze_lifetime</a></td></tr>
<tr class="memdesc:a187e86b6560dbeba723a11f749723d7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an lifetime analysis of a 1D time trace.  <a href="#a187e86b6560dbeba723a11f749723d7b">More...</a><br/></td></tr>
<tr class="separator:a187e86b6560dbeba723a11f749723d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b32f2ebf849d66e9b560fa57148ed27"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a8b32f2ebf849d66e9b560fa57148ed27">analyze_flip_prob_postselect</a></td></tr>
<tr class="memdesc:a8b32f2ebf849d66e9b560fa57148ed27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post select the data trace so that the flip probability is only calculated from a jump from below a threshold value to an value above threshold.  <a href="#a8b32f2ebf849d66e9b560fa57148ed27">More...</a><br/></td></tr>
<tr class="separator:a8b32f2ebf849d66e9b560fa57148ed27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c39894d12eb5b4911a48b3e954314a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#aa4c39894d12eb5b4911a48b3e954314a">get_fit_functions</a></td></tr>
<tr class="memdesc:aa4c39894d12eb5b4911a48b3e954314a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return all fit functions, which are currently implemented for that module.  <a href="#aa4c39894d12eb5b4911a48b3e954314a">More...</a><br/></td></tr>
<tr class="separator:aa4c39894d12eb5b4911a48b3e954314a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab753f3ab2a5dfb18cd08ceeaf6d7b033"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#ab753f3ab2a5dfb18cd08ceeaf6d7b033">do_fit</a></td></tr>
<tr class="memdesc:ab753f3ab2a5dfb18cd08ceeaf6d7b033"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes the a fit of the current fit function.  <a href="#ab753f3ab2a5dfb18cd08ceeaf6d7b033">More...</a><br/></td></tr>
<tr class="separator:ab753f3ab2a5dfb18cd08ceeaf6d7b033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735e0706ad2d5df05141f11da47d54ed"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a735e0706ad2d5df05141f11da47d54ed">do_no_fit</a></td></tr>
<tr class="memdesc:a735e0706ad2d5df05141f11da47d54ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform no fit, basically return an empty array.  <a href="#a735e0706ad2d5df05141f11da47d54ed">More...</a><br/></td></tr>
<tr class="separator:a735e0706ad2d5df05141f11da47d54ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ae7716a60609d3cc07f21560397d5f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a79ae7716a60609d3cc07f21560397d5f">do_gaussian_fit</a></td></tr>
<tr class="memdesc:a79ae7716a60609d3cc07f21560397d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a gaussian fit.  <a href="#a79ae7716a60609d3cc07f21560397d5f">More...</a><br/></td></tr>
<tr class="separator:a79ae7716a60609d3cc07f21560397d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3286d56cc782685de53c6cb3d239af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc3286d56cc782685de53c6cb3d239af"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>do_doublegaussian_fit</b></td></tr>
<tr class="separator:acc3286d56cc782685de53c6cb3d239af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996e6e8cafeb80781e94e4ad7ab329ef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a996e6e8cafeb80781e94e4ad7ab329ef"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>do_doublepossonian_fit</b></td></tr>
<tr class="separator:a996e6e8cafeb80781e94e4ad7ab329ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963211311a5d3d4e2c3e2d2fbff0be73"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a963211311a5d3d4e2c3e2d2fbff0be73"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>do_possonian_fit</b></td></tr>
<tr class="separator:a963211311a5d3d4e2c3e2d2fbff0be73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce0196c06db88de90e494e0b4fb2569"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#acce0196c06db88de90e494e0b4fb2569">get_poissonian</a></td></tr>
<tr class="memdesc:acce0196c06db88de90e494e0b4fb2569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate, bases on the passed values a poisson distribution.  <a href="#acce0196c06db88de90e494e0b4fb2569">More...</a><br/></td></tr>
<tr class="separator:acce0196c06db88de90e494e0b4fb2569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a498d1832d8763ef52aff1a42fcbf5448"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a498d1832d8763ef52aff1a42fcbf5448">guess_threshold</a></td></tr>
<tr class="memdesc:a498d1832d8763ef52aff1a42fcbf5448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assume a distribution between two values and try to guess the threshold.  <a href="#a498d1832d8763ef52aff1a42fcbf5448">More...</a><br/></td></tr>
<tr class="separator:a498d1832d8763ef52aff1a42fcbf5448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849dd4fab5789483a51e2364205ed0e4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a849dd4fab5789483a51e2364205ed0e4">calculate_threshold</a></td></tr>
<tr class="memdesc:a849dd4fab5789483a51e2364205ed0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the threshold by minimizing its overlap with the poissonian fits.  <a href="#a849dd4fab5789483a51e2364205ed0e4">More...</a><br/></td></tr>
<tr class="separator:a849dd4fab5789483a51e2364205ed0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67245f1ffa369c032e4ec56b03062568"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a67245f1ffa369c032e4ec56b03062568">calculate_binary_trace</a></td></tr>
<tr class="memdesc:a67245f1ffa369c032e4ec56b03062568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate for a given threshold all the trace values und output a binary array, where True = Below or equal Threshold False = Above Threshold.  <a href="#a67245f1ffa369c032e4ec56b03062568">More...</a><br/></td></tr>
<tr class="separator:a67245f1ffa369c032e4ec56b03062568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f86ca4521c61dfdae121fab4d53355b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrace__analysis__logic_1_1TraceAnalysisLogic.html#a9f86ca4521c61dfdae121fab4d53355b">extract_filtered_values</a></td></tr>
<tr class="memdesc:a9f86ca4521c61dfdae121fab4d53355b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract only those values, which are below or equal a certain Threshold.  <a href="#a9f86ca4521c61dfdae121fab4d53355b">More...</a><br/></td></tr>
<tr class="separator:a9f86ca4521c61dfdae121fab4d53355b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a07ef18cc8557abd86770fc77d6effd2d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07ef18cc8557abd86770fc77d6effd2d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>hist_data</b></td></tr>
<tr class="separator:a07ef18cc8557abd86770fc77d6effd2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a945551c30f8b3fc32615fa6897a83b19"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a945551c30f8b3fc32615fa6897a83b19"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>current_fit_function</b></td></tr>
<tr class="separator:a945551c30f8b3fc32615fa6897a83b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a4a412aa2ca9d7efa8a7564ea5be824be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a412aa2ca9d7efa8a7564ea5be824be"></a>
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>sigHistogramUpdated</b> = QtCore.Signal()</td></tr>
<tr class="separator:a4a412aa2ca9d7efa8a7564ea5be824be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Perform a gated counting measurement with the hardware. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a13e1365a432740b41724c141ba08be86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create CounterLogic object with connectors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>config: module configuration </td></tr>
    <tr><td class="paramname">dict</td><td>kwargs: optional parameters </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6774dd7b6197fe4babe6f90e07af8b76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.analyze_flip_prob </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_bins</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General method, which analysis how often a value was changed from one data point to another in relation to a certain threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">np.array</td><td>trace: 1D trace of data </td></tr>
    <tr><td class="paramname">int</td><td>num_bins: optional, if a specific size for the histogram is desired, which is used to calculate the threshold. </td></tr>
    <tr><td class="paramname">float</td><td>threshold: optional, if a specific threshold is going to be used, otherwise the threshold is calculated from the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>tuple(flip_prop, param): <pre class="fragment">float   the actual flip probability
int the total number of flips
float   the fidelity
float   the calculated or passed threshold
float   the lifetime in the dark state in s
float   lifetime in the bright state in s</pre> </dd></dl>

</div>
</div>
<a class="anchor" id="a8b32f2ebf849d66e9b560fa57148ed27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.analyze_flip_prob_postselect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post select the data trace so that the flip probability is only calculated from a jump from below a threshold value to an value above threshold. </p>
<dl class="section return"><dt>Returns</dt><dd>: </dd></dl>

</div>
</div>
<a class="anchor" id="a187e86b6560dbeba723a11f749723d7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.analyze_lifetime </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimated_lifetime</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform an lifetime analysis of a 1D time trace. </p>
<p>The analysis is based on the Hidden-Markov-Model</p>
<dl class="section return"><dt>Returns</dt><dd>: </dd></dl>

</div>
</div>
<a class="anchor" id="a67245f1ffa369c032e4ec56b03062568"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.calculate_binary_trace </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate for a given threshold all the trace values und output a binary array, where True = Below or equal Threshold False = Above Threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">np.array</td><td>trace: a 1D array containing the y data, e.g. ccunts </td></tr>
    <tr><td class="paramname">float</td><td>threshold: value to decide whether a point in the trace is below/equal (True) or above threshold (False).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>np.array: 1D trace of the length(trace) but now with boolean entries </dd></dl>

</div>
</div>
<a class="anchor" id="a92b3d75259e90063061bd64599747adb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.calculate_histogram </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_bins</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>custom_bin_arr</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the histogram of a given trace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">np.array</td><td>trace: a 1D trace </td></tr>
    <tr><td class="paramname">int</td><td>num_bins: number of bins between the minimal and maximal value of the trace. That must be an integer greater than or equal to 1. </td></tr>
    <tr><td class="paramname">np.array</td><td>custom_bin_arr: optional, 1D array. If a specific, non-uniform binning array is desired then it can be passed to the numpy routine. Then the parameter num_bins is ignored. Otherwise a uniform binning is applied by default. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: np.array: a 2D array, where first entry are the x_values and second entry are the count values. The length of the array is normally determined by the num_bins parameter.</dd></dl>
<p>Usually the bins for the histogram are taken to be equally spaced, ranging from the minimal to the maximal value of the input trace array. </p>

</div>
</div>
<a class="anchor" id="a849dd4fab5789483a51e2364205ed0e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.calculate_threshold </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hist_data</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the threshold by minimizing its overlap with the poissonian fits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">np.array</td><td>hist_data: 2D array whitch represent the x and y values of a histogram of a trace.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>tuple(float, float): threshold the calculated threshold between two overlapping poissonian distributed peaks. fidelity the measure how good the two peaks are resolved according to the calculated threshold</dd></dl>
<p>The calculation of the threshold relies on fitting two poissonian distributions to the count histogram and minimize a threshold with respect to the overlap area: </p>

</div>
</div>
<a class="anchor" id="a44983de7a9c3270096344d3049f799f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.do_calculate_histogram </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Passes all the needed parameters to the appropriated methods. </p>
<dl class="section return"><dt>Returns</dt><dd>: </dd></dl>

</div>
</div>
<a class="anchor" id="ab753f3ab2a5dfb18cd08ceeaf6d7b033"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.do_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fit_function</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes the a fit of the current fit function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>fit_function: name of the chosen fit function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>tuple(x_val, y_val, fit_results): x_val a 1D numpy array containing the x values y_val a 1D numpy array containing the y values fit_results a string containing the information of the fit results.</dd></dl>
<p>You can obtain with get_fit_methods all implemented fit methods. </p>

</div>
</div>
<a class="anchor" id="a79ae7716a60609d3cc07f21560397d5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.do_gaussian_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a gaussian fit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">axis,:</td><td></td></tr>
    <tr><td class="paramname">data,:</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: </dd></dl>

</div>
</div>
<a class="anchor" id="a735e0706ad2d5df05141f11da47d54ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.do_no_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform no fit, basically return an empty array. </p>
<dl class="section return"><dt>Returns</dt><dd>tuple(x_val, y_val, fit_results): x_val a 1D numpy array containing the x values y_val a 1D numpy array containing the y values fit_results a string containing the information of the fit results. </dd></dl>

</div>
</div>
<a class="anchor" id="a9f86ca4521c61dfdae121fab4d53355b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.extract_filtered_values </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>below</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract only those values, which are below or equal a certain Threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">np.array</td><td>trace: </td></tr>
    <tr><td class="paramname">float</td><td>threshold:</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>tuple(index_array, filtered_array): np.array index_array: 1D integer array containing the indices of the passed trace array which are equal or below the threshold np.array filtered_array: the actual values of the trace, which are equal or below threshold </dd></dl>

</div>
</div>
<a class="anchor" id="aa4c39894d12eb5b4911a48b3e954314a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.get_fit_functions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return all fit functions, which are currently implemented for that module. </p>
<dl class="section return"><dt>Returns</dt><dd>list: with string entries denoting the name of the fit. </dd></dl>

</div>
</div>
<a class="anchor" id="acce0196c06db88de90e494e0b4fb2569"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.get_poissonian </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>amplitude</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate, bases on the passed values a poisson distribution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">float</td><td>mu: expected value of poisson distribution </td></tr>
    <tr><td class="paramname">float</td><td>amplitude: Amplitude to which is multiplied on distribution </td></tr>
    <tr><td class="paramname">int,float</td><td>or np.array x_val: x values for poisson distribution, also works for numbers (int or float) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>np.array: a 1D array with the calculated poisson distribution, corresponding to given parameters/ x values</dd></dl>
<p>Calculate a Poisson distribution according to: P(k) = mu^k * exp(-mu) / k! </p>

</div>
</div>
<a class="anchor" id="a498d1832d8763ef52aff1a42fcbf5448"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.guess_threshold </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hist_val</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trace</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_ratio_value</em> = <code>0.1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assume a distribution between two values and try to guess the threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">np.array</td><td>hist_val: 1D array whitch represent the y values of a histogram of a trace. Optional, if None is passed here, the passed trace will be used for calculations. </td></tr>
    <tr><td class="paramname">np.array</td><td>trace: optional, 1D array containing the y values of a meausured counter trace. If None is passed to hist_y_val then the threshold will be calculated from the trace. </td></tr>
    <tr><td class="paramname">float</td><td>max_ration_value: the ratio how strong the lower y values will be cut off. For max_ratio_value=0.1 all the data which are 10% or less in amptitude compared to the maximal value are neglected.</td></tr>
  </table>
  </dd>
</dl>
<p>The guess procedure tries to find all values, which are max_ratio_value * maximum value of the histogram of the trace and selects those by indices. Then taking the first an the last might and assuming that the threshold is in the middle, gives a first estimate of the threshold value.</p>
<p>FIXME That guessing procedure can be improved!</p>
<dl class="section return"><dt>Returns</dt><dd>float: a guessed threshold </dd></dl>

</div>
</div>
<a class="anchor" id="a60b1cff0886154a776c1d02dade23ecd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.on_activate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialisation performed during activation of the module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>e: Event class object from Fysom. An object created by the state machine module Fysom, which is connected to a specific event (have a look in the Base Class). This object contains the passed event, the state before the event happened and the destination of the state which should be reached after the event had happened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a872a8409b46f4c25028cda26a596941d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.on_deactivate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitialisation performed during deactivation of the module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>e: Event class object from Fysom. A more detailed explanation can be found in method activation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a70cc8433964024847fb8577836ee4e35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def trace_analysis_logic.TraceAnalysisLogic.set_num_bins_histogram </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>update</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the number of bins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>num_bins: number of bins for the histogram </td></tr>
    <tr><td class="paramname">bool</td><td>update: if the change of bins should evoke a recalculation of the histogram. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>logic/trace_analysis_logic.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
